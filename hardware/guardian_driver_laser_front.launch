<?xml version="1.0"?>
<launch>
	<arg name="use_tilt" default="false" />

	<!-- FRONT HOKUYO -->
	<node name="hokuyo_front" pkg="hokuyo_node" type="hokuyo_node" respawn="false" output="screen">
		<remap from="/scan" to="/guardian/laser_tilt_front" />
		<param name="port" type="string" value="/dev/laser_front_cable" />
		<param name="calibrate_time" type="bool" value="true" />
		<param name="intensity" type="bool" value="false" />
		<param name="frame_id" value="hokuyo_front_laser_link" />
		<param name="min_ang" value="-2.094395102" />
		<param name="max_ang" value="2.094395102" />
	</node>

	<node name="robotnik_tilt_laser_cloud" pkg="robotnik_tilt_laser" type="robotnik_tilt_laser_cloud_node" output="screen" if="$(arg use_tilt)" >
		<rosparam command="load" file="$(find guardian_config)/hardware/tilt_laser.yaml" />
		<param name="publish_tf" type="bool" value="false" />
		<param name="publish_joint" type="bool" value="true" />
	</node>
	
	<node pkg="tf2_ros" type="static_transform_publisher" name="front_laser_static_tf" args="0 0 0 0 0 0 1 hokuyo_front_laser_tilt_support_link hokuyo_front_laser_tilt_axis_link" unless="$(arg use_tilt)" />
</launch>
