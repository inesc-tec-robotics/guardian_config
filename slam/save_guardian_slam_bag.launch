<?xml version="1.0"?>
<launch>
	<arg name="save_only_sensor_data" default="1" />
	<arg name="record_topics" if="$(arg save_only_sensor_data)" default="/guardian/cmd_vel /guardian/laser_horizontal_back /guardian/laser_tilt_front /guardian/odom /joy /rosout /tf /tf_static" />
	<arg name="record_topics" unless="$(arg save_only_sensor_data)" default="/dynamic_robot_localization/localization_pose /guardian/laser_horizontal_back /dynamic_robot_localization/localization_detailed /guardian/odom /guardian/cmd_vel /dynamic_robot_localization/localization_times /oea_controller/back_laser_visualization_markers /move_base_simple/goal /dynamic_robot_localization/aligned_pointcloud_outliers /oea_controller/front_laser_visualization_markers /map /oea_controller/next_target /trajectory /Astar_plan /rosout /dynamic_robot_localization/aligned_pointcloud_inliers /guardian/laser_tilt_front /map_navigation /tf" />
	
	<arg name="compress_rosbags" default="1" />
	<arg name="record_rosbags_options" default="--bz2" if="$(arg compress_rosbags)"/>
	<arg name="record_rosbags_options" default="" unless="$(arg compress_rosbags)"/>

	<arg name="world_rosbag_folder" default="$(find guardian_config)/slam/datasets/crob_lab" />
	<arg name="world_rosbag_filename" default="$(arg world_rosbag_folder)/lab_ship_walls" />

	<node pkg="rosbag" type="record" name="rosbag_record" args="$(arg record_rosbags_options) -o $(arg world_rosbag_filename) $(arg record_topics)" />
</launch>

<!-- kill -SIGINT `pidof record` -->
